---
loki:
  podAnnotations:
    prometheus.io/scrape: "true"
    prometheus.io/port: "3100"
  config:
    common:
      storage:
        filesystem: null
        s3:
          endpoint: minio.minio.svc.cluster.local:9000
          insecure: true
          bucketnames: loki-data
          access_key_id: loki
          secret_access_key: supersecret
          s3forcepathstyle: true
    schema_config:
      configs:
        - from: "2020-09-07"
          store: boltdb-shipper
          object_store: s3
          schema: v11
          index:
            period: 24h
            prefix: loki_index_
  image:
    registry: "k3d-grafana:45629"
    repository: "loki"
    tag: "main-2a6ddff-WIP"
    pullPolicy: Always
write:
  persistence:
    storageClass: local-path
  extraEnv:
    - name: JAEGER_AGENT_HOST
      value: "jaeger-agent.jaeger.svc.cluster.local"
    - name: JAEGER_AGENT_PORT
      value: "6831"
    - name: JAEGER_TAGS
      value: "app=loki"
    - name: JAEGER_SAMPLER_TYPE
      value: "const"
    - name: JAEGER_SAMPLER_PARAM
      value: "1"
read:
  persistence:
    storageClass: local-path
  extraEnv:
    - name: JAEGER_AGENT_HOST
      value: "jaeger-agent.jaeger.svc.cluster.local"
    - name: JAEGER_AGENT_PORT
      value: "6831"
    - name: JAEGER_TAGS
      value: "app=loki"
    - name: JAEGER_SAMPLER_TYPE
      value: "const"
    - name: JAEGER_SAMPLER_PARAM
      value: "1"
